doctype html
html(lang="es")
  head
    meta(charset="UTF-8")
    meta(name="viewport" content="width=device-width, initial-scale=1")
    title Mis Notificaciones
    link(href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css", rel="stylesheet")
  body
    nav.navbar.navbar-light(style="background-color: rgb(238, 67, 67);")
      .container-fluid
        a.navbar-brand(href="#")
          img(src="/public/img/Artesanos-logo.png", alt="Bootstrap", width="160", height="75")
        form.d-flex(role="search")
          input.form-control.me-2(type="search", placeholder="Buscar", aria-label="Search")
          button.btn.btn-outline-light(type="submit") Buscar
        .btn-toolbar.justify-content-between(role="toolbar")
          .dropdown
            svg.bi.bi-person-circle.dropdown-toggle(
              xmlns="http://www.w3.org/2000/svg",
              width="35",
              height="35",
              fill="currentColor",
              data-bs-toggle="dropdown",
              style="color: antiquewhite;",
              viewBox="0 0 16 16"
            )
              path(d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0")
              path(fill-rule="evenodd", d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1")
            ul.dropdown-menu
              li: a.dropdown-item(href="#") Perfil
              li: a.dropdown-item(href="#") Mis albums
              li: a.dropdown-item(href="#") Cerrar sesión
          a(href="#")
            svg.bi.bi-bell-fill(
              xmlns="http://www.w3.org/2000/svg",
              width="32",
              height="32",
              fill="currentColor",
              style="color: antiquewhite;",
              viewBox="0 0 16 16"
            )
              path(d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2m.995-14.901a1 1 0 1 0-1.99 0A5 5 0 0 0 3 6c0 1.098-.5 6-2 7h14c-1.5-1-2-5.902-2-7 0-2.42-1.72-4.44-4.005-4.901")

    .container.mt-5
      h2.mb-4.text-center Mis Notificaciones
    
      if notificaciones && notificaciones.length
        each notificacion in notificaciones
          .card.mb-3.shadow-sm
            .card-body
              h5.card-title #{notificacion.titulo}
              p.card-text.mb-1 #{notificacion.mensaje}
              p.card-text
                small.text-muted Recibido el #{notificacion.fecha_hora}
    
              if notificacion.tipo == 'solicitud'
                .d-flex.gap-2
                  form(method="post", action="/amistad/aceptar")
                    input(type="hidden", name="ID_Emisor", value=notificacion.ID_Emisor)
                    button.btn.btn-success.btn-sm Aceptar
                  form(method="post", action="/amistad/rechazar")
                    input(type="hidden", name="ID_Emisor", value=notificacion.ID_Emisor)
                    button.btn.btn-danger.btn-sm Rechazar
      else
        p.text-center.text-muted No tenés notificaciones por el momento.

    script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js")
